<div class="bg-slate-800 dark:bg-slate-800 bg-white dark:bg-slate-800 rounded-2xl border border-slate-700 dark:border-slate-700 border-gray-200 dark:border-slate-700 overflow-hidden">
  <div class="px-6 py-4 bg-slate-700/50 dark:bg-slate-700/50 bg-gray-100 dark:bg-slate-700/50 border-b border-slate-600 dark:border-slate-600 border-gray-200 dark:border-slate-600">
    <h2 class="text-xl font-bold text-white dark:text-white text-gray-900 dark:text-white">Appointments</h2>
  </div>
  <div class="p-6">
    @if (isLoading()) {
      <div class="flex items-center justify-center py-20">
        <div class="spinner"></div>
      </div>
    } @else if (filteredBookings().length === 0) {
      <div class="text-center py-20">
        <div class="bg-slate-700/50 dark:bg-slate-700/50 bg-gray-100 dark:bg-slate-700/50 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-4">
          <svg class="w-10 h-10 text-slate-500 dark:text-slate-500 text-gray-400 dark:text-slate-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
          </svg>
        </div>
        <p class="text-slate-400 dark:text-slate-400 text-gray-600 dark:text-slate-400 text-lg mb-2">No appointments yet</p>
        <p class="text-slate-500 dark:text-slate-500 text-gray-500 dark:text-slate-500 text-sm">Click "Book Appointment" to get started</p>
      </div>
    } @else {
      <div class="space-y-3">
        @for (booking of filteredBookings(); track booking.id) {
          <div 
            (click)="onViewBooking(booking)"
            class="booking-card bg-slate-700/50 dark:bg-slate-700/50 bg-gray-50 dark:bg-slate-700/50 rounded-xl p-4 border border-slate-600 dark:border-slate-600 border-gray-200 dark:border-slate-600 cursor-pointer hover:border-cyan-500 dark:hover:border-cyan-500">
            <div class="flex items-center justify-between mb-3">
              <div class="flex items-center gap-3">
                <div class="bg-cyan-500/20 p-2 rounded-lg">
                  <svg class="w-5 h-5 text-cyan-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
                  </svg>
                </div>
                <div>
                  <p class="text-white dark:text-white text-gray-900 dark:text-white font-semibold">{{ booking.clientName }}</p>
                  <p class="text-slate-400 dark:text-slate-400 text-gray-600 dark:text-slate-400 text-sm">{{ booking.clientPhone }}</p>
                </div>
              </div>
              @if (isPast(booking.date, booking.time)) {
                <span class="bg-slate-600 dark:bg-slate-600 bg-gray-300 dark:bg-slate-600 text-slate-400 dark:text-slate-400 text-gray-600 dark:text-slate-400 text-xs px-3 py-1 rounded-full">Past</span>
              } @else {
                <span class="bg-emerald-500/20 text-emerald-400 text-xs px-3 py-1 rounded-full pulse-dot">Upcoming</span>
              }
            </div>
            <div class="grid grid-cols-2 gap-3 text-sm">
              <div class="flex items-center gap-2">
                <svg class="w-4 h-4 text-slate-400 dark:text-slate-400 text-gray-500 dark:text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"/>
                </svg>
                <span class="text-slate-300 dark:text-slate-300 text-gray-700 dark:text-slate-300">{{ formatDate(booking.date) }}</span>
              </div>
              <div class="flex items-center gap-2">
                <svg class="w-4 h-4 text-slate-400 dark:text-slate-400 text-gray-500 dark:text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"/>
                </svg>
                <span class="text-slate-300 dark:text-slate-300 text-gray-700 dark:text-slate-300">{{ formatTime(booking.time) }}</span>
              </div>
              <div class="flex items-center gap-2">
                <svg class="w-4 h-4 text-slate-400 dark:text-slate-400 text-gray-500 dark:text-slate-400" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M7 3v18M17 3v18M3 12h18M8 7h8M8 17h8"/>
                </svg>
                <span class="text-slate-300 dark:text-slate-300 text-gray-700 dark:text-slate-300">{{ booking.serviceType }}</span>
              </div>
              <div class="flex items-center gap-2">
                <svg class="w-4 h-4 text-slate-400 dark:text-slate-400 text-gray-500 dark:text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
                </svg>
                <span class="text-slate-300 dark:text-slate-300 text-gray-700 dark:text-slate-300">Barber {{ booking.barberName }}</span>
              </div>
            </div>
          </div>
        }
      </div>
    }
  </div>
</div>
